[2026-02-10 09:33:54 INF] Checking database connection... {"SourceContext":"Program"}
[2026-02-10 09:33:55 INF] Database ready. Running seed data... {"SourceContext":"Program"}
[2026-02-10 09:33:55 INF] Database initialization completed successfully {"SourceContext":"Program"}
[2026-02-10 09:33:55 INF] AuthService API is running at http://localhost:5132. Health endpoint: http://localhost:5132/health {"SourceContext":"Program"}
[2026-02-10 10:00:45 WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNJ8NM6FLP9U:00000001","RequestPath":"/health","ConnectionId":"0HNJ8NM6FLP9U"}
[2026-02-10 10:00:45 INF] HTTP GET /health responded 200 in 99.6593 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ8NM6FLP9U:00000001","ConnectionId":"0HNJ8NM6FLP9U"}
[2026-02-10 10:00:45 INF] HTTP GET /favicon.ico responded 404 in 0.9661 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ8NM6FLP9U:00000002","ConnectionId":"0HNJ8NM6FLP9U"}
[2026-02-10 10:01:22 INF] User esantos registered succesfully {"EventId":{"Id":1001,"Name":"LogUserRegistered"},"SourceContext":"AuthServiceIN6BV.Application.Services.AuthService","ActionId":"892d9228-ecc5-4646-8109-b6c99f1f1284","ActionName":"AuthServiceIN6BV.Api.Controllers.AuthController.Register (AuthServiceIN6BV.Api)","RequestId":"0HNJ8NM6FLPA1:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ8NM6FLPA1"}
[2026-02-10 10:01:22 INF] HTTP POST /api/v1/auth/register responded 201 in 664.5199 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ8NM6FLPA1:00000001","ConnectionId":"0HNJ8NM6FLPA1"}
[2026-02-10 10:01:25 INF] Email sent successfully {"SourceContext":"AuthServiceIN6BV.Application.Services.EmailService","ActionId":"892d9228-ecc5-4646-8109-b6c99f1f1284","ActionName":"AuthServiceIN6BV.Api.Controllers.AuthController.Register (AuthServiceIN6BV.Api)","RequestId":"0HNJ8NM6FLPA1:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ8NM6FLPA1"}
[2026-02-10 10:01:26 INF] Email pipeline completed {"SourceContext":"AuthServiceIN6BV.Application.Services.EmailService","ActionId":"892d9228-ecc5-4646-8109-b6c99f1f1284","ActionName":"AuthServiceIN6BV.Api.Controllers.AuthController.Register (AuthServiceIN6BV.Api)","RequestId":"0HNJ8NM6FLPA1:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ8NM6FLPA1"}
[2026-02-10 10:01:26 INF] Email processed {"SourceContext":"AuthServiceIN6BV.Application.Services.EmailService","ActionId":"892d9228-ecc5-4646-8109-b6c99f1f1284","ActionName":"AuthServiceIN6BV.Api.Controllers.AuthController.Register (AuthServiceIN6BV.Api)","RequestId":"0HNJ8NM6FLPA1:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ8NM6FLPA1"}
[2026-02-10 10:01:26 INF] Verification email sent {"SourceContext":"AuthServiceIN6BV.Application.Services.AuthService","ActionId":"892d9228-ecc5-4646-8109-b6c99f1f1284","ActionName":"AuthServiceIN6BV.Api.Controllers.AuthController.Register (AuthServiceIN6BV.Api)","RequestId":"0HNJ8NM6FLPA1:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ8NM6FLPA1"}
[2026-02-10 10:21:20 INF] Checking database connection... {"SourceContext":"Program"}
[2026-02-10 10:21:21 INF] Database ready. Running seed data... {"SourceContext":"Program"}
[2026-02-10 10:21:21 INF] Database initialization completed successfully {"SourceContext":"Program"}
[2026-02-10 10:21:21 INF] AuthService API is running at http://localhost:5132. Health endpoint: http://localhost:5132/health {"SourceContext":"Program"}
[2026-02-10 10:21:36 WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNJ8O1R7EJQM:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ8O1R7EJQM"}
[2026-02-10 10:21:36 INF] Registration rejected: Email already exists. {"EventId":{"Id":1004,"Name":"LogRegistrationWithExistingEmail"},"SourceContext":"AuthServiceIN6BV.Application.Services.AuthService","ActionId":"3af79629-a2e8-401d-aad8-e5400f5fc093","ActionName":"AuthServiceIN6BV.Api.Controllers.AuthController.Register (AuthServiceIN6BV.Api)","RequestId":"0HNJ8O1R7EJQM:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ8O1R7EJQM"}
[2026-02-10 10:21:36 ERR] An unhandled exception occurred {"SourceContext":"AuthServiceIN6BV.Api.Middlewares.GlobalExceptionMiddleware","RequestId":"0HNJ8O1R7EJQM:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ8O1R7EJQM"}
AuthServiceIN6BV.Application.Exceptions.BusinessException: Email already exists
   at AuthServiceIN6BV.Application.Services.AuthService.RegisterAsync(RegisterDto registerDto) in C:\6to2026\AuthService2024295\src\AuthServiceIN6BV.Application\Services\AuthService.cs:line 34
   at AuthServiceIN6BV.Api.Controllers.AuthController.Register(RegisterDto registerDto) in C:\6to2026\AuthService2024295\src\AuthServiceIN6BV.Api\Controllers\AuthController.cs:line 42
   at lambda_method22(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at AuthServiceIN6BV.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\6to2026\AuthService2024295\src\AuthServiceIN6BV.Api\Middlewares\GlobalExceptionMiddleware.cs:line 18
[2026-02-10 10:21:36 INF] HTTP POST /api/v1/auth/register responded 400 in 238.2045 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ8O1R7EJQM:00000001","ConnectionId":"0HNJ8O1R7EJQM"}
[2026-02-10 10:21:56 INF] Registration rejected: Username already exists. {"EventId":{"Id":1005,"Name":"LogRegistrationWithExistingUsername"},"SourceContext":"AuthServiceIN6BV.Application.Services.AuthService","ActionId":"3af79629-a2e8-401d-aad8-e5400f5fc093","ActionName":"AuthServiceIN6BV.Api.Controllers.AuthController.Register (AuthServiceIN6BV.Api)","RequestId":"0HNJ8O1R7EJQM:00000002","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ8O1R7EJQM"}
[2026-02-10 10:21:56 ERR] An unhandled exception occurred {"SourceContext":"AuthServiceIN6BV.Api.Middlewares.GlobalExceptionMiddleware","RequestId":"0HNJ8O1R7EJQM:00000002","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ8O1R7EJQM"}
AuthServiceIN6BV.Application.Exceptions.BusinessException: Username already exists
   at AuthServiceIN6BV.Application.Services.AuthService.RegisterAsync(RegisterDto registerDto) in C:\6to2026\AuthService2024295\src\AuthServiceIN6BV.Application\Services\AuthService.cs:line 41
   at AuthServiceIN6BV.Api.Controllers.AuthController.Register(RegisterDto registerDto) in C:\6to2026\AuthService2024295\src\AuthServiceIN6BV.Api\Controllers\AuthController.cs:line 42
   at lambda_method22(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at AuthServiceIN6BV.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\6to2026\AuthService2024295\src\AuthServiceIN6BV.Api\Middlewares\GlobalExceptionMiddleware.cs:line 18
[2026-02-10 10:21:56 INF] HTTP POST /api/v1/auth/register responded 400 in 65.8515 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ8O1R7EJQM:00000002","ConnectionId":"0HNJ8O1R7EJQM"}
[2026-02-10 10:22:08 INF] User itiguila registered succesfully {"EventId":{"Id":1001,"Name":"LogUserRegistered"},"SourceContext":"AuthServiceIN6BV.Application.Services.AuthService","ActionId":"3af79629-a2e8-401d-aad8-e5400f5fc093","ActionName":"AuthServiceIN6BV.Api.Controllers.AuthController.Register (AuthServiceIN6BV.Api)","RequestId":"0HNJ8O1R7EJQM:00000003","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ8O1R7EJQM"}
[2026-02-10 10:22:08 INF] HTTP POST /api/v1/auth/register responded 201 in 1623.9508 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ8O1R7EJQM:00000003","ConnectionId":"0HNJ8O1R7EJQM"}
[2026-02-10 10:22:10 INF] Email sent successfully {"SourceContext":"AuthServiceIN6BV.Application.Services.EmailService","ActionId":"3af79629-a2e8-401d-aad8-e5400f5fc093","ActionName":"AuthServiceIN6BV.Api.Controllers.AuthController.Register (AuthServiceIN6BV.Api)","RequestId":"0HNJ8O1R7EJQM:00000003","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ8O1R7EJQM"}
[2026-02-10 10:22:10 INF] Email pipeline completed {"SourceContext":"AuthServiceIN6BV.Application.Services.EmailService","ActionId":"3af79629-a2e8-401d-aad8-e5400f5fc093","ActionName":"AuthServiceIN6BV.Api.Controllers.AuthController.Register (AuthServiceIN6BV.Api)","RequestId":"0HNJ8O1R7EJQM:00000003","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ8O1R7EJQM"}
[2026-02-10 10:22:10 INF] Email processed {"SourceContext":"AuthServiceIN6BV.Application.Services.EmailService","ActionId":"3af79629-a2e8-401d-aad8-e5400f5fc093","ActionName":"AuthServiceIN6BV.Api.Controllers.AuthController.Register (AuthServiceIN6BV.Api)","RequestId":"0HNJ8O1R7EJQM:00000003","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ8O1R7EJQM"}
[2026-02-10 10:22:10 INF] Verification email sent {"SourceContext":"AuthServiceIN6BV.Application.Services.AuthService","ActionId":"3af79629-a2e8-401d-aad8-e5400f5fc093","ActionName":"AuthServiceIN6BV.Api.Controllers.AuthController.Register (AuthServiceIN6BV.Api)","RequestId":"0HNJ8O1R7EJQM:00000003","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ8O1R7EJQM"}
